# Settings to manage and configure a Firebase App Hosting backend.
# https://firebase.google.com/docs/app-hosting/configure

# Specifies the directory that contains your source code.
# Setting this to '.' indicates that the app is in the root of the repository.
sourceDirectory: .

# Specifies the node version to use.
runtime: nodejs20

# Command to build your app
build:
  run: npm run build

# Command to start your app
start:
  run: npm run start

runConfig:
  # CPU allocation for the backend
  cpu: 1
  
  # Memory allocation (minimum 512MiB for Next.js apps)
  memoryMiB: 512
  
  # Increase this value if you'd like to automatically spin up
  # more instances in response to increased traffic.
  minInstances: 0
  maxInstances: 1
  
  # Concurrency - number of requests each instance can handle
  concurrency: 80
